{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AIT-USR\\\\Documents\\\\workspace-react\\\\front-end\\\\src\\\\common\\\\auth-verify.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { withRouter } from \"./with-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst parseJwt = token => {\n  try {\n    return JSON.parse(atob(token.split('.')[1]));\n  } catch (e) {\n    return null;\n  }\n};\n\nconst AuthVerify = props => {\n  _s();\n\n  let location = props.router.location;\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n\n    if (user) {\n      const decodedJwt = parseJwt(user.accessToken);\n\n      if (decodedJwt.exp * 1000 < Date.now()) {\n        props.logOut();\n      }\n    }\n  }, [location]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 10\n  }, this);\n};\n\n_s(AuthVerify, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = AuthVerify;\nexport default _c2 = withRouter(AuthVerify);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AuthVerify\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useEffect","withRouter","parseJwt","token","JSON","parse","atob","split","e","AuthVerify","props","location","router","user","localStorage","getItem","decodedJwt","accessToken","exp","Date","now","logOut"],"sources":["C:/Users/AIT-USR/Documents/workspace-react/front-end/src/common/auth-verify.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { withRouter } from \"./with-router\";\n\nconst parseJwt = (token) => {\n  try {\n    return JSON.parse(atob(token.split('.')[1]));\n  } catch (e) {\n    return null;\n  }\n};\n\nconst AuthVerify = (props) => {\n  let location = props.router.location;\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n\n    if (user) {\n      const decodedJwt = parseJwt(user.accessToken);\n\n      if (decodedJwt.exp * 1000 < Date.now()) {\n        props.logOut();\n      }\n    }\n  }, [location]);\n\n  return <div></div>;\n};\n\nexport default withRouter(AuthVerify);\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,eAA3B;;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;EAC1B,IAAI;IACF,OAAOC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACH,KAAK,CAACI,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,CAAP;EACD,CAFD,CAEE,OAAOC,CAAP,EAAU;IACV,OAAO,IAAP;EACD;AACF,CAND;;AAQA,MAAMC,UAAU,GAAIC,KAAD,IAAW;EAAA;;EAC5B,IAAIC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAaD,QAA5B;EAEAX,SAAS,CAAC,MAAM;IACd,MAAMa,IAAI,GAAGT,IAAI,CAACC,KAAL,CAAWS,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;;IAEA,IAAIF,IAAJ,EAAU;MACR,MAAMG,UAAU,GAAGd,QAAQ,CAACW,IAAI,CAACI,WAAN,CAA3B;;MAEA,IAAID,UAAU,CAACE,GAAX,GAAiB,IAAjB,GAAwBC,IAAI,CAACC,GAAL,EAA5B,EAAwC;QACtCV,KAAK,CAACW,MAAN;MACD;IACF;EACF,CAVQ,EAUN,CAACV,QAAD,CAVM,CAAT;EAYA,oBAAO;IAAA;IAAA;IAAA;EAAA,QAAP;AACD,CAhBD;;GAAMF,U;;KAAAA,U;AAkBN,qBAAeR,UAAU,CAACQ,UAAD,CAAzB"},"metadata":{},"sourceType":"module"}